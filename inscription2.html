<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inscription sur Cyan Love</title>
  <link rel="stylesheet" href="inscription.css">
  <script src="inscription.js"></script>
</head>
<body>
  <header>
    <div class="categorie">
        <ul>
            <li><a href="#">Accueil</a></li>
            <li><a href="#">Profil</a></li>
            <li><a href="#">Recherche</a></li>
            <li><a href="#">Produit</a></li>
        </ul>
    </div>
    
    <div class="logo">
        <a href="page_d'accueil.html"><img src="logobao.png" alt="Logo du site"></a>
    </div>

    <div class="connexion">
        <a href="connexion.html">Se connecter</a>
        <a href="inscription.html">S'inscrire</a>
    </div>
</header>
  <div class="container">
    <div class="form">
      <form action="inscription3.html" method="post" onsubmit="return validateForm()">
        <h1>Situation personnelle</h1>
        <div class="partie">
          <label for="lieu_residence">Lieu de résidence :</label>
          <select id ="pays" name="pays" select name="pays">
            <option value="France" selected="selected">France </option>
            <option value="Afghanistan">Afghanistan </option>
            <option value="Afrique Centrale">Afrique Centrale </option>
            <option value="Afrique du Sud">Afrique du Sud </option>
            <option value="Albanie">Albanie </option>
            <option value="Algerie">Algérie </option>
            <option value="Allemagne">Allemagne </option>
            <option value="Andorre">Andorre </option>
            <option value="Angola">Angola </option>
            <option value="Anguilla">Anguilla </option>
            <option value="Arabie Saoudite">Arabie Saoudite </option>
            <option value="Argentine">Argentine </option>
            <option value="Armenie">Arménie </option>
            <option value="Australie">Australie </option>
            <option value="Autriche">Autriche </option>
            <option value="Azerbaidjan">Azerbaïdjan </option>
            <option value="Bahamas">Bahamas </option>
            <option value="Bangladesh">Bangladesh </option>
            <option value="Barbade">Barbade </option>
            <option value="Bahrein">Bahreïn </option>
            <option value="Belgique">Belgique </option>
            <option value="Belize">Belize </option>
            <option value="Benin">Benin </option>
            <option value="Bermudes">Bermudes </option>
            <option value="Bielorussie">Biélorussie </option>
            <option value="Bolivie">Bolivie </option>
            <option value="Botswana">Botswana </option>
            <option value="Bhoutan">Bhoutan </option>
            <option value="Boznie-Herzegovine">Boznie-Herzégovine </option>
            <option value="Bresil">Brésil </option>
            <option value="Brunei">Brunei </option>
            <option value="Bulgarie">Bulgarie </option>
            <option value="Burkina Faso">Burkina Faso </option>
            <option value="Burundi">Burundi </option>
            <option value="Caiman">Caïman </option>
            <option value="Cambodge">Cambodge </option>
            <option value="Cameroun">Cameroun </option>
            <option value="Canada">Canada </option>
            <option value="Canaries">Canaries </option>
            <option value="Cap-Vert">Cap-Vert </option>
            <option value="Chili">Chili </option>
            <option value="Chine">Chine </option>
            <option value="Chypre">Chypre </option>
            <option value="Colombie">Colombie </option>
            <option value="Comores">Colombie </option>
            <option value="Congo">Congo </option>
            <option value="Congo democratique">Congo démocratique </option>
            <option value="Cook">Cook </option>
            <option value="Corée du Nord">Corée du Nord </option>
            <option value="Corée du Sud">Corée du Sud </option>
            <option value="Costa Rica">Costa Rica </option>
            <option value="Cote d'ivoire">Côte d'ivoire </option>
            <option value="Croatie">Croatie </option>
            <option value="Cuba">Cuba </option>
            <option value="Danemark">Danemark </option>
            <option value="Djibouti">Djibouti </option>
            <option value="Dominique">Dominique </option>
            <option value="Egypte">Égypte </option>
            <option value="Emirats Arabes Unis">Émirats Arabes Unis </option>
            <option value="Equateur">Équateur </option>
            <option value="Erythree">Érythrée </option>
            <option value="Espagne">Espagne </option>
            <option value="Estonie">Estonie </option>
            <option value="Etats Unis">États-Unis </option>
            <option value="Ethiopie">Éthiopie </option>
            <option value="Falkland">Falkland </option>
            <option value="Feroe">Féroé </option>
            <option value="Fidji">Fidji </option>
            <option value="Finlande">Finlande </option>
            <option value="France">France </option>
            <option value="Gabon">Gabon </option>
            <option value="Gambie">Gambie </option>
            <option value="Georgie">Géorgie </option>
            <option value="Ghana">Ghana </option>
            <option value="Gibraltar">Gibraltar </option>
            <option value="Grece">Grèce </option>
            <option value="Grenade">Grenade </option>
            <option value="Groenland">Groenland </option>
            <option value="Guadeloupe">Guadeloupe </option>
            <option value="Guam">Guam </option>
            <option value="Guatemala">Guatemala</option>
            <option value="Guernesey">Guernesey </option>
            <option value="Guinee">Guinée </option>
            <option value="Guinee Bissau">Guinée-Bissau </option>
            <option value="Guinee equatoriale">Guinée-Équatoriale </option>
            <option value="Guyana">Guyana </option>
            <option value="Guyane Francaise ">Guyane Française </option>
            <option value="Haiti">Haiti </option>
            <option value="Hawai">Hawaï </option>
            <option value="Honduras">Honduras </option>
            <option value="Hong Kong">Hong Kong </option>
            <option value="Hongrie">Hongrie </option>
            <option value="Inde">Inde </option>
            <option value="Indonesie">Indonésie </option>
            <option value="Iran">Iran </option>
            <option value="Iraq">Iraq </option>
            <option value="Irlande">Irlande </option>
            <option value="Islande">Islande </option>
            <option value="Israel">Israël </option>
            <option value="Italie">Italie </option>
            <option value="Jamaique">Jamaïque </option>
            <option value="Jan Mayen">Jan Mayen </option>
            <option value="Japon">Japon </option>
            <option value="Jersey">Jersey </option>
            <option value="Jordanie">Jordanie </option>
            <option value="Kazakhstan">Kazakhstan </option>
            <option value="Kenya">Kenya </option>
            <option value="Kirghizstan">Kirghizistan </option>
            <option value="Kiribati">Kiribati </option>
            <option value="Koweit">Koweït </option>
            <option value="Laos">Laos </option>
            <option value="Lesotho">Lesotho </option>
            <option value="Lettonie">Lettonie </option>
            <option value="Liban">Liban </option>
            <option value="Liberia">Liberia </option>
            <option value="Liechtenstein">Liechtenstein </option>
            <option value="Lituanie">Lituanie </option>
            <option value="Luxembourg">Luxembourg </option>
            <option value="Libye">Libye </option>
            <option value="Macao">Macao </option>
            <option value="Macedoine">Macédoine </option>
            <option value="Madagascar">Madagascar </option>
            <option value="Madère">Madère </option>
            <option value="Malaisie">Malaisie </option>
            <option value="Malawi">Malawi </option>
            <option value="Maldives">Maldives </option>
            <option value="Mali">Mali </option>
            <option value="Malte">Malte </option>
            <option value="Man">Man </option>
            <option value="Mariannes du Nord">Mariannes du Nord </option>
            <option value="Maroc">Maroc </option>
            <option value="Marshall">Marshall </option>
            <option value="Martinique">Martinique </option>
            <option value="Maurice">Maurice </option>
            <option value="Mauritanie">Mauritanie </option>
            <option value="Mayotte">Mayotte </option>
            <option value="Mexique">Mexique </option>
            <option value="Micronesie">Micronésie </option>
            <option value="Midway">Midway </option>
            <option value="Moldavie">Moldavie </option>
            <option value="Monaco">Monaco </option>
            <option value="Mongolie">Mongolie </option>
            <option value="Montenegro">Monténégro </option>
            <option value="Montserrat">Montserrat </option>
            <option value="Mozambique">Mozambique </option>
            <option value="Namibie">Namibie </option>
            <option value="Nauru">Nauru </option>
            <option value="Nepal">Népal </option>
            <option value="Nicaragua">Nicaragua </option>
            <option value="Niger">Niger </option>
            <option value="Nigeria">Nigeria </option>
            <option value="Niue">Niue </option>
            <option value="Norfolk">Norfolk </option>
            <option value="Norvege">Norvège </option>
            <option value="Nouvelle Caledonie">Nouvelle-Calédonie </option>
            <option value="Nouvelle Zelande">Nouvelle-Zélande </option>
            <option value="Oman">Oman </option>
            <option value="Ouganda">Ouganda </option>
            <option value="Ouzbekistan">Ouzbékistan </option>
            <option value="Pakistan">Pakistan </option>
            <option value="Palau">Palau </option>
            <option value="Palestine">Palestine </option>
            <option value="Panama">Panama </option>
            <option value="Papouasie Nouvelle Guinee">Papouasie-Nouvelle-Guinée </option>
            <option value="Paraguay">Paraguay </option>
            <option value="Pays Bas">Pays-Bas </option>
            <option value="Perou">Pérou </option>
            <option value="Philippines">Philippines </option>
            <option value="Pologne">Pologne </option>
            <option value="Polynesie">Polynésie </option>
            <option value="Porto Rico">Porto Rico </option>
            <option value="Portugal">Portugal </option>
            <option value="Qatar">Qatar </option>
            <option value="Republique-Dominicaine">République-Dominicaine </option>
            <option value="Republique Tcheque">Republique tchèque </option>
            <option value="Reunion">Réunion </option>
            <option value="Roumanie">Roumanie </option>
            <option value="Royaume Uni">Royaume-Uni </option>
            <option value="Russie">Russie </option>
            <option value="Rwanda">Rwanda </option>
            <option value="Sahara Occidental">Sahara occidental </option>
            <option value="Sainte Lucie">Sainte-Lucie </option>
            <option value="Saint Marin">Saint-Marin </option>
            <option value="Salomon">Salomon </option>
            <option value="Salvador">Salvador </option>
            <option value="Samoa occidentales">Samoa occidentales</option>
            <option value="Samoa americaines">Samoa américaines </option>
            <option value="Sao Tome et Principe">Sao Tomé-et-Principe </option>
            <option value="Senegal">Sénégal </option>
            <option value="Serbie">Serbie </option>
            <option value="Seychelles">Seychelles </option>
            <option value="Sierra Leone">Sierra Leone </option>
            <option value="Singapour">Singapour </option>
            <option value="Slovaquie">Slovaquie </option>
            <option value="Slovénie">Slovénie</option>
            <option value="Somalie">Somalie </option>
            <option value="Soudan">Soudan </option>
            <option value="Sri Lanka">Sri Lanka </option>
            <option value="Suede">Suède </option>
            <option value="Suisse">Suisse </option>
            <option value="Surinam">Surinam </option>
            <option value="Swaziland">Swaziland </option>
            <option value="Syrie">Syrie </option>
            <option value="Tadjikistan">Tadjikistan </option>
            <option value="Taiwan">Taïwan </option>
            <option value="Tonga">Tonga </option>
            <option value="Tanzanie">Tanzanie </option>
            <option value="Tchad">Tchad </option>
            <option value="Thailande">Thaïlande </option>
            <option value="Tibet">Tibet </option>
            <option value="Timor oriental">Timor oriental </option>
            <option value="Togo">Togo </option>
            <option value="Trinite et Tobago">Trinité-et-Tobago </option>
            <option value="Tristan da Cunha">Tristan da Cunha </option>
            <option value="Tunisie">Tunisie </option>
            <option value="Turkmenistan">Turkménistan </option>
            <option value="Turquie">Turquie </option>
            <option value="Ukraine">Ukraine </option>
            <option value="Uruguay">Uruguay </option>
            <option value="Vanuatu">Vanuatu </option>
            <option value="Vatican">Vatican </option>
            <option value="Venezuela">Venezuela </option>
            <option value="Vierges Americaines">Vierges américaines </option>
            <option value="Vierges Britanniques">Vierges britanniques </option>
            <option value="Vietnam">Vietnam </option>
            <option value="Wake">Wake </option>
            <option value="Wallis et Futuna">Wallis-et-Futuna </option>
            <option value="Yemen">Yémen </option>
            <option value="Zambie">Zambie </option>
            <option value="Zimbabwe">Zimbabwe </option>
          </select>
        </div>
            <div class="partie">
              <label for="situation_amoureuse">Situation amoureuse :</label>
              <textarea id="situation_amoureuse" name="situation_amoureuse" required placeholder="Décrivez votre situation amoureuse, cela apparaîtra sur votre profil suite à l'inscription" oninput="countCharacters(event)"></textarea>
              <p class="caracteres"></p>
            </div>
              <button type="submit">Suivant</button>
        </form>
      </div>
    </div>


  <footer>
    <p>&copy; 2024 Site de Rencontre. Tous droits réservés.</p>
  </footer>
  <?p
  if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Récupérer les données du formulaire
    $pays = $_POST['pays'];
    $situation_amoureuse = $_POST['situation_amoureuse'];

    // Ouvrir le fichier CSV en mode lecture et écriture à la fin du fichier
    $fichier_csv = 'csv/user.csv';
    $file = fopen($fichier_csv, 'a+');

    // Vérifier si le fichier a pu être ouvert
    if ($file) {
        // Lire les données existantes dans le fichier CSV
        $donnees_existants = [];
        while (($ligne = fgetcsv($file)) !== false) {
            $donnees_existants[] = $ligne;
        }

        // Construire la nouvelle ligne à ajouter dans le fichier CSV
        $nouvelle_ligne = [$pays, $situation_amoureuse];

        // Ajouter la nouvelle ligne à la suite des données existantes
        fputcsv($file, $nouvelle_ligne);

        // Fermer le fichier
        fclose($file);

        // Afficher un message de succès
        echo "Les données ont été enregistrées avec succès.";
    } else {
        // Afficher un message d'erreur si le fichier n'a pas pu être ouvert
        echo "Erreur : Impossible d'ouvrir le fichier.";
    }
}
  ?>
</body>
</html>
